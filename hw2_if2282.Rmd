---
title: "P8105_HW2_if2282"
author: Ifrah Fayyaz
output: github_document
---

```{r, echo = FALSE, message = FALSE}
library(tidyverse)
library(readxl)
```

# Problem 1

## Reading Mr. Trash Wheel Dataset:

```{r}
trash_wheel = 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N408"
    ) %>%
  janitor::clean_names() %>%
  na.omit() %>%
  mutate(sports_balls = round(sports_balls, digits = 0)) %>%
  mutate(homes_powered = round(homes_powered, digits = 0))
```

Description:
The dataset for Mr. Trashwheel contains `r ncol(trash_wheel)` variables and `r nrow(trash_wheel)` observations. The median number of sports balls in a dumpster in 2017 were `r filter(trash_wheel, year == 2017) %>% pull(sports_balls) %>% median()`. The mean weight of trash accumulated by Mr. Trashweel in 2014 was `r filter(trash_wheel, year == 2014) %>% pull(weight_tons) %>% mean()` tons.

## Reading Precipiation Datasets for 2018 and 2019:

```{r}
precipitation_2018 = 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14"
  ) %>%
  janitor::clean_names() %>%
  na.omit() %>%
  mutate(year = "2018")

precipitation_2019 = 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2019 Precipitation",
    range = "A2:B14"
  ) %>%
  janitor::clean_names() %>%
  na.omit() %>%
  mutate(year = "2019")

precipitation =
  bind_rows(precipitation_2018, precipitation_2019) %>%
  mutate(month = month.name[month])
```

Description:
The dataset of Precipitation contains `r ncol(precipitation)` variables and `r nrow(precipitation)` observations. The total precipitation in the year 2018 was `r filter(precipitation, year == 2018) %>% pull(total) %>% sum()` and `r filter(precipitation, year == 2019) %>% pull(total) %>% sum()` in 2019. 


# Problem 2

```{r}
pol_months = 
  read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>%
  separate(mon, sep = '-', into = c("year", "month", "day")) %>%
  mutate(month = month.abb[as.numeric(month)]) %>%
  mutate(president = recode(prez_dem, "1" = "Democrat", "0" = "Republican")) %>%
  select(-prez_dem, -prez_gop, -day)

snp = 
  read_csv("data/fivethirtyeight_datasets/snp.csv") %>% 
  mutate(date = as.Date(date, "%m/%d/%y")) %>%
  separate(date, sep = '-', into = c("year", "month", "day")) %>%
  mutate(month = month.abb[as.numeric(month)]) %>%
  select(-day)

unemploy = 
  read_csv("data/fivethirtyeight_datasets/unemployment.csv") %>%
    pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemployment"
  ) %>%
  janitor::clean_names() %>%
  mutate(year = as.character(year))

five38 =
  inner_join(pol_months, snp, by = c("year" = "year","month" = "month")) 

fivethree8 = 
  inner_join(five38, unemploy, by = c("year" = "year","month" = "month"))
```

The pol_months dataset is related to the number of national politicians who are democratic or republican at any given time. The dataset contained `r nrow(pol_months)` observations. The snp dataset is related to Standard & Poorâ€™s stock market index (S&P), often used as a representative measure of stock market as a whole. The dataset contained `r nrow(snp)` observations. Lastly, the unemploy dataset contains the unemployment rates of the years and months. The dataset contained `r nrow(unemploy)` observations.

The fivethree8 dataset was a merge of all the three datasets listed above. It had a total of  `r nrow(fivethree8)` observations and `r ncol(fivethree8)` variables: `r names(fivethree8)`



```{r}

```


```{r}

```


```{r}

```
